# 2026-02-12
## Quiz
1. When do we use the async/await pattern (that your instructor hasn't even explained yet) in our C# code?
    - To perform non-blocking operations, Whenever you make an endpoint that reaches out to another resource(service,database, etc)
    - Async on function header, await on resource call.
    - Async methods always return a **Type** of something, it is a wrapper
        - Sometimes you see a `ValueTask`
    1. Return something as quickly as possible - We might have requirements (SLA) around things like this
    2. There are multiple requests being handled at the same time, and competing for resources
    - I/0 - Networks, File System, Database, all that stuff, will always be slower than the code we write
    - NodeJs is single threaded
1.1 What is Reflection?
    - The ability of code to look at itself. A kind of "introspection"
    - Swashbuckle - A tool that can look at your code and generate the "starter" openapi spec (swagger document)
    - NSwag - Same kind of deal
        - Microsoft said we'll include this, and we will add an endpoint that will let you see documentation using SwaggerUi during development
    - OpenApi - IT IS AWESOME NOW WE WERE TOTALLY WRONG. .NET 10 this is fantastic
2. What is Open API?
    - Standard language format for DOCUMENTING RESTful APIs in JSON (and YAML)
        - A way to document RESTful APIs
    - What is Scalar? (The thing we added to AppHost)
        - Wrapper for Open API (updated version of swagger) that makes the json look nice and provides endpoint testing
        - Just a tool that can take an OpenApi document and present a UI so we can test out and explore the API
            - Do we use this at our company? Maybe. We used this on this project so all other developers can use it. 
3. Why did we use an Http DELETE method in our `student/moments` endpoint when we really didn't "delete" anything?
    - One of the four HTTP request types and DELETE fit the best
    - Mark MM that have been answered, removing it from the returned table, modifying it
4. Consider the following code we created yesterday:

```csharp
 public static async Task<IResult> MarkQuestionAnswered(Guid id, IDocumentSession session)
    {
        // ...
    }
```
5. (4a) How is our API being made "aware" that this is the code it should run when receiving an Http DELETE request to `student/moments/b0f17531-ca09-41dd-8654-d0eb180f6797` (for example)?  
    - Controllers: Using annotations  
    - Not Controllers: Using MapDelete in ApiExtensions  
6. (4b) Where are the `id` and `session` variables coming from when this method is executed?  
    - The API Framework - the runtime - will call this code AND provide the things we ask for that are parameters to this
        - It may never run if no one calls DELETE
    - 
7. (4c) If the API received a request of `DELETE /student/moments/bird-cage` what would the value of `id` be when this code is executed (uhm, might be a trick question), but explain your answer.  
    - ID gets defaulted to 0000... If we didn't add the route constraint on the route (e.g. `{id:guid}`)
    - It produces a 404 error, because it can't run (can't cast to GUID)  
8. (4d) The database provider we are using here calls it a "session", sometimes it's called a "context", and ASP.NET MVC (our platform for building APIs) calls it a "scope". But they all mean basically the same thing in this context, which is:  
    - Transaction, Lifespan of a request, it either does all the things or none of them.


    