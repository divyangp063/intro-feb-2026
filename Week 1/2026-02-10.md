# 2026-02-10

### 4 Rules of Simple Design
- Passes the tests (High Priority) - Meets the requirements
    - Start with making sure what you've done works
    - Given... When... Then...
- Reveals intention
    - It is more important usually to write code that is understandable by other developers than even writing what your senior year professor would give you a good grade for
- No duplication
    - "Don't Repeat Yourself" = "DRY"
    - If you have to change it then you have to change it in lots of places
        - But will you? You probably won't know all the ways in your application there is duplication, so you end up with an inconsistent system
- Fewest elements
    - Bugs scale linearly with the number of lines of code. `WE CAN'T CODE OUR WAY OUT OF BUGS`
    - Variables, decision, loops
        - Prefer functional style array manipulation in JavaScript as opposed to a good for loop. EVEN IT IS SLOWER



---
Database - Postgres: Great support for relational data (row and columns) and for documents (like mongodb)
Assembly (Java Metaphor) - A bunch of source code files that you run through a complier and it creates an assembly, can run on other OS
    - 1 Project = 1 Assembly in Visual Studio
    - In Java we have byte code, in .NET we have IL (Intermediate Language)
    - It also has Metadata - db of types


---
# API Design for the MM API
## Students / Student

- Add 1-3 MMs to be explored the next day  

- Title (Developer Testing)  
- Description (optional, more context for what you are looking for)


- Programs are code (static) and data (changing)
- Data is used to present "state" - What is this *now* (and sometimes at other arbitrary dates and time)
- What data do we need to be able to write the code to enable the functionality we designed?

```http
POST https://localhost:1337/student/moments
Content-type: application/json
Authorization: ***** Bearer Token (Fake this for a while)

{
    "title": "More Database Stuff",
    "description": "What is Store that we did?"
}
```

### Test Plan:
1. Get rid of the 404
    - If it is good, something in the range of 200-299
        - 200 Ok. With a body
    - If the user made a bad request, those are 400-499
        - If you don't have an authorization header that we trust, give 401
        - If instructor knows who we are (we are authenticated) when trying to log in to instructor panel, give 403
    - 400 - You scewed up
        - general bad request

```http
GET https://localhost:1337/student/moments
```
```http
DELETE https://localhost:1337/student/moments/13ab4b54-42f3-4a47-84d9-cb26cc786080
```

```http
GET https://localhost:1337/student/answered-questions
```


```
200 ok
Content-type: application/json

[
    {
        "id": "1920310"
        "title": "HTTP",
        "description": "A little fuzzy on the types of resources... collections, documents?",
        "createdAt": "{{timeStamp}}",
        "addedBy": "employee@company.com"
    }
]
```
### Get a list of MM

A student needs a way to see the list of all their submitted MMs

### Remove an MM

### Edit an MM

---
## Instructor

### Get a list
Can get a list of all the students aggregated moments in a summary form so they can be addressed

### Punt
Say "I don't want to lose this, but I promise I'll talk about it later"

---
## In HTTP - We have three things we can "design", and we have to figure out how to map a business process to these three things.

- Resources - An important thingy we want to expose to the consumer of this service. They have names, at least one, and those are URIs.
    - <b>https</b>://mm.hypertheory-labs.dev/api/students/moments
    - The scheme - http | https
    - "mm.hypertheory-labs.dev" - Known as the **"origin"** or sometimes the **"authority"**
    - /api/students/moments - **"the path"** (to the thing we want, the resource)
    - Difference between *www.taylorswift.com/tickets* vs *www.cleveland-cops.gov/tickets*
- Representations
    - What are you going to get from a resource, or send to a resource?
        - The web doesn't specify. Can be ANYTHING the client and the server agree on
        - We are going to do our representation in **JSON** (A serialization format)
- Methods
    - GET, POST, PUT, DELETE

    - GET means "get" - I wanna see it. No "side effects". Nothing gets updated
    - POST means different things depending on the kind of resource - but on a "collection" resource it means something like:
        - "Excuse me ma'am, I'd like you to consider taking this representation I am sending you and making part of your family"
        - Basically add

---
## Features Abbreviated:
```
    - Students:
        - Add MM - The collection of our MM
        - Edit an MM - We can edit one of our own, but not someone elses
        - Remove an MM - We can remove one of ours, but not someone elses
        - See all of their MM - We can see our list, but not anyone elses
    - Instructor:
        - See the aggregated list - He can see all of them, but he doesn't know who created each one
        - Punt - He has his own list, basically, that he can put things on to defer them to later
```

"Store"

- Documents
    - /employees/a123456
    - /students/123456789/moments
- Collections
    - /employees

---
Two big ways we can get that web server to pass requests to our code
    1. Old Skool - Controllers
    2. New And Shiny - And probably should be our default - "Controller-less" - minimal APIs, etc.



---
# Things to do outside of class:
    1. Read this: https://datatracker.ietf.org/doc/html/rfc2616 
    2. And this: https://roy.gbiv.com/pubs/dissertation/fielding_dissertation.pdf

~1999 HTTP
"SOAP" - XML "The next generation platform for building distributed XML Web Services"
    - 2008 WCF (Windows Communication Foundation) > $25M spent upgrading

Scott Guthrie
    - .NET (Asp.Net Web Forms, a cool way to democratize web development)
    - 1998/1999

    - In charge of the Developer Division at Microsoft for YEARS
    - Now in charge of Azure. THE thing that makes money at Microsoft.

    - "ALT.Net" - Austin Texas mostly
        - MSDN - very bad
    - JUnit, NUnit - 
    - Ruby on Rails - MVC
        - One trans-atlantic flight coded up the first version of ASP.NET MVC
        - Include the right way open source with this
            - jQuery - Open source
            - AND we are working really hard to make Asp.Net mvc (open source)

Asp.Net Web Api was ~99% genetically identical to ASP.NET MVC for web apps

## Services

Code or code thingies that own some data and all the process around that data

(this is a version of the definition given by Dr. Alan Kay when somebody asked him what "Object Oriented" means)